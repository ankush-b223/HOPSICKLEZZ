<!DOCTYPE html>
<html lang="eng">

<head>

    <title>HOPSICKLEZZ!!</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="register.css">
    <link rel="stylesheet" href="darkmode.css" />
    <!-- thumbnail icon links -->
    <link rel="apple-touch-icon" sizes="180x180" href="icon folder/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon folder/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon folder/favicon-16x16.png">
    <link rel="manifest" href="icon folder/site.webmanifest"> 
    <link href="https://fonts.googleapis.com/css2?family=Island+Moments&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=BioRhyme:wght@300&display=swap" rel="stylesheet">

</head>

<body class="light">
   
  </div>
  <script>
      function myFunction() {
         var element = document.body;
         element.classList.toggle("dark-mode");
      }
      </script>
  <script src="darkmode.js">


  </script>





    <header> <!-- header portion >> it has 2 sections -->

        <section> <!-- section for home ,store and contact us buttons  -->
            <nav class="navigation">
                <a href="index.html" >HOME</a> 
                <a href="artists.html" >ARTISTS</a>
                <a href="contact.html">CONTACT</a> 
                <a class="active" class="log" href="login.html" >Login/SignUp</a>
                <label class="switch" >
                    <input type="checkbox" onclick="myFunction()">
                    <span class="slider round"></span>
                </label> 
                <input type="text" placeholder="Search.."> 
            </nav>

        </section>

        <hr>

        <section> <!-- title of the page (HOPSICKLEZZ) -->
            <header><h1>HOPSICKLEZZ!</h1></header>
        </section>
        
        <hr>

    </header>



    
    <section id="reg-form">

        <h2 class="register">REGISTER!</h2>
        <form id="RegForm">
            <u>Username:</u> <input type="text" autocomplete="off" id="username" placeholder="Username" /> <br>
            <u>Password:</u> <input type="password" autocomplete="off" id="password" placeholder="Password" /> <br> <br>
            <input type="submit" value="submit">
        </form>

        <script>
            //getting form
            const regForm = document.getElementById("RegForm");

            //on submit click event
            addEventListener('submit', registerUser);

            //registerUser function call & definitation
            async function registerUser(event){
                event.preventDefault();

                //get username & password and store it in variables
                const username = document.getElementById("username").value;
                const password = document.getElementById("password").value;

                //await for result from fetch api call 
                const result = await fetch("/register", {
                    //method & details of sending data to api
                    method:"POST",
                    headers: {
                        "Content-Type": 'application/json'
                    },
                    body: JSON.stringify({

                        username,
                        password
                    })
                    //if api call returns ok give user created success else error
                }).then((res)=> res.json())

                if(result.status === 'ok'){
                    alert("User created Succesfully , Welcome Onboard!! , LOGIN! ");
                    window.location.replace('login.html');
                }else{
                    alert(result.error);
                }
            }
        </script>

        <div>
            <h3>Already registered?</h3>
            <h4> Hop back mate ;) </h4>
            <a class="log" href="login.html">Login!</a>
        </div>

    </section>



    <hr>

    <footer class="footer"> <!-- footer section  -->

        <h2>HOPSICKLEZZ!</h2>

        <div class="footer">
            <ul class="footer">
                <p class="p">Follow us!! ;]</p>
                <li> <a href="https://www.youtube.com/" target="_blank"><img src="Images/youtubelogo.png" alt="Youtube"></a>| </li>
                <li> <a href="https://www.spotify.com/" target="_blank"><img src="Images/spotifylogo.png" alt="spotify"></a>| </li>
                <li> <a href="https://www.instagram.com/" target="_blank"><img src="Images/instagramlogo1.png" alt="Instagram"></a> </li>
            </ul>
        </div>    

    </footer>


</body>



</html>

