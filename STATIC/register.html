<!DOCTYPE html>
<html lang="eng">

<head>

    <title>HOPSICKLEZZ!!</title>
    <link rel="stylesheet_css" href="styles.css">
    <!-- thumbnail icon links -->
    <link rel="apple-touch-icon" sizes="180x180" href="icon folder/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon folder/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon folder/favicon-16x16.png">
    <link rel="manifest" href="icon folder/site.webmanifest"> 

</head>

<body>

    <link rel="stylesheet" href="darkmode.css" />
    
</head>
<body>
    <!-- Rounded switch -->
<label class="switch" >
  <input type="checkbox" onclick="myFunction()">
  <span class="slider round"></span>
</label>
     
   
  </div>
  <script>
      function myFunction() {
         var element = document.body;
         element.classList.toggle("dark-mode");
      }
      </script>
  <script src="darkmode.js">


  </script>





    <header> <!-- header portion >> it has 2 sections -->

        <section> <!-- section for home ,store and contact us buttons  -->
            <nav>
                <ul>
                    <li><a href="main.html" >   <button> HOME </button>      </a> </li>
                    <li><a href="artists.html" target="_blank">   <button> ARTISTS </button>      </a> </li>
                    <li><a href="contact.html" target="_blank">   <button> CONTACT </button>      </a> </li>
                </ul>
            </nav>

        </section>

        <hr>

        <section> <!-- title of the page (HOPSICKLEZZ) -->
            <header><h1>HOPSICKLEZZ!</h1></header>
        </section>
        
        <hr>

    </header>



    
    <section>

        <h2>REGISTER!</h2>
        <form id="reg-form">
            <input type="text" autocomplete="off" id="username" placeholder="Username" /> <br>
            <input type="password" autocomplete="off" id="password" placeholder="Password" /> <br> <br>
            <button type="submit" value="Submit Form">submit</button>
        </form>

        <script>
            //getting form
            const regForm = document.getElementById("reg-form");

            //on submit click event
            addEventListener('submit', registerUser);

            //registerUser function call & definitation
            async function registerUser(event){
                event.preventDefault();

                //get username & password and store it in variables
                const username = document.getElementById("username").value;
                const password = document.getElementById("password").value;

                //await for result from fetch api call 
                const result = await fetch("/register", {
                    //method & details of sending data to api
                    method:"POST",
                    headers: {
                        "Content-Type": 'application/json'
                    },
                    body: JSON.stringify({

                        username,
                        password
                    })
                    //if api call returns ok give user created success else error
                }).then((res)=> res.json())

                if(result.status === 'ok'){
                    alert("User created Succesfully , Welcome Onboard!! , LOGIN! ");
                    window.location.replace('login.html');
                }else{
                    alert(result.error);
                }
            }
        </script>

        <div>
            <h3>Already registered?</h3>
            <h4> Hop back mate ;) </h4>
            <a href="login.html"><button>Login!</button></a>
        </div>

    </section>



    <hr>

    <footer> <!-- footer section  -->

        <h2>HOPSICKLEZZ!</h2>

        <div>
            <p>Follow us!! ;] </p>

            <ul>
                <li> <a href="https://www.youtube.com/" target="_blank"> <button> <img src="Images/youtubelogo.png" alt="Youtube">     </button> </a> </li>
                <li> <a href="https://www.spotify.com/" target="_blank"> <button> <img src="Images/spotifylogo.png" alt="spotify">     </button> </a> </li>
                <li> <a href="https://www.instagram.com/" target="_blank"> <button> <img src="Images/instagramlogo1.png" alt="Instagram">   </button> </a> </li>
            </ul>
        </div>    

    </footer>


</body>



</html>

