<!DOCTYPE html>
<html lang="eng">

<head>

    <title>HOPSICKLEZZ!!</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="darkmode.css" />
    <!-- thumbnail icon links -->
    <link rel="apple-touch-icon" sizes="180x180" href="icon folder/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon folder/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon folder/favicon-16x16.png">
    <link rel="manifest" href="icon folder/site.webmanifest"> 
    <link href="https://fonts.googleapis.com/css2?family=Island+Moments&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=BioRhyme:wght@300&display=swap" rel="stylesheet">

</head>

<body class="light">
    
  </div>
  <script>
      function myFunction() {
         var element = document.body;
         element.classList.toggle("dark-mode");
      }
      </script>
  <script src="darkmode.js">


  </script>



    <header> <!-- header portion >> it has 2 sections -->

        <section> <!-- section for home ,store and contact us buttons  -->
            <nav class="navigation">
                <a href="main.html" >HOME</a> 
                <a href="artists.html">ARTISTS</a>
                <a href="contact.html">CONTACT</a> 
                <a class="log active" href="login.html">Login/SignUp</a>
                <label class="switch" >
                    <input type="checkbox" onclick="myFunction()">
                    <span class="slider round"></span>
                </label> 
                <input type="text" placeholder="Search.."> 
            </nav>

        </section>

        <hr>

        <section> <!-- title of the page (HOPSICKLEZZ) -->
            <header><h1>HOPSICKLEZZ!</h1></header>
        </section>
        
        <hr>

    </header>


    <section id="login-form">
        
        <h2 class="login">Login!</h2>
        <form>
            <p>Username: <input placeholder="username" type="text" id="username" ></p><br>
            <p>Password: <input placeholder="password" type="password" id="password" ></p> <br>
            
            <input type="submit" value="LOGIN"><br>
            <a href="changePass.html"><h6>Forgot Password?</h6></a>
            <div>
                <h5>Not yet registered with us?<br><br>Hop on!! , It's free ;)</h5>
                <a href="register.html">REGISTER</a>
            </div>
            
        </form>

		<script>
            //getting form
            const loginForm = document.getElementById("login-form");

            //on submit click event
            addEventListener('submit', loginUser);

            //registerUser function call & definitation
            async function loginUser(event){
                event.preventDefault();

                //get username & password and store it in variables
                const username = document.getElementById("username").value;
                const password = document.getElementById("password").value;

                //await for result from fetch api call 
                const result = await fetch("/login", {
                    //method & details of sending data to api
                    method:"POST",
                    headers: {
                        "Content-Type": 'application/json'
                    },
                    body: JSON.stringify({

                        username,
                        password
                    })
                    //if api call returns ok give user created success else error
                }).then((res)=> res.json())

                if(result.status === 'ok'){
                    alert("Welcome Back!");
                    window.location.replace('main.html');
                }else{
                    alert(result.error);
                }
            }
        </script>

        
    </section>
    

    <footer class="footer"> <!-- footer section  -->

        <h2>HOPSICKLEZZ!</h2>

        <div class="footer">
            <ul class="footer">
                <p class="p">Follow us!! ;]</p>
                <li> <a href="https://www.youtube.com/" target="_blank"><img src="Images/youtubelogo.png" alt="Youtube"></a>| </li>
                <li> <a href="https://www.spotify.com/" target="_blank"><img src="Images/spotifylogo.png" alt="spotify"></a>| </li>
                <li> <a href="https://www.instagram.com/" target="_blank"><img src="Images/instagramlogo1.png" alt="Instagram"></a> </li>
            </ul>
        </div>    

    </footer>


</body>



</html>

